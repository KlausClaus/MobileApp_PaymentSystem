{"remainingRequest":"D:\\GItHubProjects\\MobileApp_PaymentSystem\\Payment\\AdminSystem\\Frontend\\node_modules\\babel-loader\\lib\\index.js!D:\\GItHubProjects\\MobileApp_PaymentSystem\\Payment\\AdminSystem\\Frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\GItHubProjects\\MobileApp_PaymentSystem\\Payment\\AdminSystem\\Frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\GItHubProjects\\MobileApp_PaymentSystem\\Payment\\AdminSystem\\Frontend\\src\\views\\TuitionInvoice.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\GItHubProjects\\MobileApp_PaymentSystem\\Payment\\AdminSystem\\Frontend\\src\\views\\TuitionInvoice.vue","mtime":1731935896210},{"path":"D:\\GItHubProjects\\MobileApp_PaymentSystem\\Payment\\AdminSystem\\Frontend\\babel.config.js","mtime":1731236695489},{"path":"D:\\GItHubProjects\\MobileApp_PaymentSystem\\Payment\\AdminSystem\\Frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\GItHubProjects\\MobileApp_PaymentSystem\\Payment\\AdminSystem\\Frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\GItHubProjects\\MobileApp_PaymentSystem\\Payment\\AdminSystem\\Frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\GItHubProjects\\MobileApp_PaymentSystem\\Payment\\AdminSystem\\Frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucmVkdWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZXJyb3IuY2F1c2UuanMiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlR1aXRpb25JbnZvaWNlIiwKICBkYXRhKCkgewogICAgLy8gRnVuY3Rpb24gdG8gY2FsY3VsYXRlIHRoZSB0b3RhbCBmZWUKICAgIGNvbnN0IGNhbGN1bGF0ZVRvdGFsID0gaXRlbSA9PiB7CiAgICAgIGNvbnN0IGZlZXMgPSBbJ3R1aXRpb25GZWUnLCAnYWNjb21tb2RhdGlvbkZlZScsICdib29rRmVlJywgJ21hdGVyaWFsRmVlJywgJ2FjdGl2aXR5RmVlJywgJ2V4YW1GZWUnXTsKICAgICAgcmV0dXJuIGZlZXMucmVkdWNlKCh0b3RhbCwgZmVlKSA9PiB0b3RhbCArIChOdW1iZXIoaXRlbVtmZWVdKSB8fCAwKSwgMCk7CiAgICB9OwogICAgcmV0dXJuIHsKICAgICAgdGFibGVEYXRhOiBbXSwKICAgICAgLy8gVGFibGUgZGF0YQogICAgICB0b3RhbDogMCwKICAgICAgLy8gVG90YWwgbnVtYmVyIG9mIGl0ZW1zCiAgICAgIHBhZ2VOdW06IDEsCiAgICAgIC8vIEN1cnJlbnQgcGFnZSBudW1iZXIKICAgICAgcGFnZVNpemU6IDE1LAogICAgICAvLyBOdW1iZXIgb2YgaXRlbXMgcGVyIHBhZ2UKICAgICAgc3R1ZGVudE5hbWU6ICIiLAogICAgICAvLyBTZWFyY2ggaW5wdXQgZm9yIHN0dWRlbnQgbmFtZQogICAgICBzdHVkZW50SWQ6ICIiLAogICAgICAvLyBTZWxlY3RlZCBzdHVkZW50IElECiAgICAgIGZvcm06IHsKICAgICAgICBlbWFpbDogJycsCiAgICAgICAgLy8gU3R1ZGVudCBlbWFpbAogICAgICAgIG1ham9yOiAnJyAvLyBTdHVkZW50IG1ham9yCiAgICAgIH0sCgogICAgICBtdWx0aXBsZVNlbGVjdGlvbjogW10sCiAgICAgIC8vIFNlbGVjdGVkIHJvd3MgaW4gdGhlIHRhYmxlCiAgICAgIG5hbWVMaXN0OiBbXSwKICAgICAgLy8gTGlzdCBvZiBzdHVkZW50IG5hbWVzIGZvciBzZWxlY3Rpb24KICAgICAgaW5mb0xpc3Q6IFtdLAogICAgICAvLyBGdWxsIHN0dWRlbnQgaW5mbyBsaXN0CiAgICAgIGRpYWxvZ0Zvcm1WaXNpYmxlOiBmYWxzZSwKICAgICAgLy8gRGlhbG9nIHZpc2liaWxpdHkgc3RhdGUKICAgICAgcnVsZXM6IHsKICAgICAgICAvLyBWYWxpZGF0aW9uIHJ1bGVzIGZvciB0aGUgZm9ybQogICAgICAgIHN0dWRlbnROYW1lOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAnUGxlYXNlIHNlbGVjdCBhIHN0dWRlbnQnLAogICAgICAgICAgdHJpZ2dlcjogJ2NoYW5nZScKICAgICAgICB9XSwKICAgICAgICBhY2FkZW1pY1llYXI6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICdQbGVhc2UgZW50ZXIgYWNhZGVtaWMgeWVhcicsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9LCB7CiAgICAgICAgICB2YWxpZGF0b3I6IHRoaXMudmFsaWRhdGVBY2FkZW1pY1llYXIsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XSwKICAgICAgICB0dWl0aW9uRmVlOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAnUGxlYXNlIGVudGVyIFR1aXRpb24gRmVlJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH0sIHsKICAgICAgICAgIHZhbGlkYXRvcjogdGhpcy52YWxpZGF0ZVR1aXRpb25GZWUsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XQogICAgICB9CiAgICB9OwogIH0sCiAgY3JlYXRlZCgpIHsKICAgIC8vIExvYWQgdGFibGUgZGF0YSB3aGVuIHRoZSBjb21wb25lbnQgaXMgY3JlYXRlZAogICAgdGhpcy5sb2FkKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyBWYWxpZGF0ZSBhY2FkZW1pYyB5ZWFyIGlucHV0CiAgICB2YWxpZGF0ZUFjYWRlbWljWWVhcihydWxlLCB2YWx1ZSwgY2FsbGJhY2spIHsKICAgICAgY29uc3QgeWVhciA9IE51bWJlcih2YWx1ZSk7CiAgICAgIGlmICghL15cZCskLy50ZXN0KHZhbHVlKSB8fCB5ZWFyIDwgMjAyNCkgewogICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcignUGxlYXNlIGVudGVyIGEgdmFsaWQgeWVhciAo4omlIDIwMjQpJykpOwogICAgICB9IGVsc2UgewogICAgICAgIGNhbGxiYWNrKCk7CiAgICAgIH0KICAgIH0sCiAgICAvLyBWYWxpZGF0ZSB0dWl0aW9uIGZlZSBpbnB1dAogICAgdmFsaWRhdGVUdWl0aW9uRmVlKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgewogICAgICBpZiAodmFsdWUgPCAxKSB7CiAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCdUdWl0aW9uIEZlZSBtdXN0IGJlIGF0IGxlYXN0IDEnKSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY2FsbGJhY2soKTsKICAgICAgfQogICAgfSwKICAgIC8vIExvYWQgdGFibGUgZGF0YSBiYXNlZCBvbiBwYWdpbmF0aW9uIGFuZCBzZWFyY2ggaW5wdXQKICAgIGxvYWQoKSB7CiAgICAgIHRoaXMucmVxdWVzdC5nZXQoIi90dWl0aW9uSW52b2ljZS9wYWdlIiwgewogICAgICAgIHBhcmFtczogewogICAgICAgICAgcGFnZU51bTogdGhpcy5wYWdlTnVtLAogICAgICAgICAgcGFnZVNpemU6IHRoaXMucGFnZVNpemUsCiAgICAgICAgICBuYW1lOiB0aGlzLnN0dWRlbnROYW1lCiAgICAgICAgfQogICAgICB9KS50aGVuKHJlcyA9PiB7CiAgICAgICAgdGhpcy50YWJsZURhdGEgPSByZXMuZGF0YS5yZWNvcmRzOwogICAgICAgIHRoaXMudG90YWwgPSByZXMuZGF0YS50b3RhbDsKICAgICAgfSk7CiAgICB9LAogICAgLy8gU2F2ZSBmb3JtIGRhdGEgYW5kIGNyZWF0ZSBvciBlZGl0IGEgdHVpdGlvbiBpbnZvaWNlCiAgICBzYXZlKCkgewogICAgICB0aGlzLiRyZWZzLmVkaXRGb3JtLnZhbGlkYXRlKHZhbGlkID0+IHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIHRoaXMuZm9ybS5zdGF0dXMgPSAwOyAvLyBEZWZhdWx0IHN0YXR1cyBmb3IgdW5wYWlkCiAgICAgICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpOwogICAgICAgICAgdGhpcy5mb3JtLmNyZWF0ZWRUaW1lID0gYCR7bm93LmdldEZ1bGxZZWFyKCl9LSR7U3RyaW5nKG5vdy5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgJzAnKX0tJHtTdHJpbmcobm93LmdldERhdGUoKSkucGFkU3RhcnQoMiwgJzAnKX0gJHtTdHJpbmcobm93LmdldEhvdXJzKCkpLnBhZFN0YXJ0KDIsICcwJyl9OiR7U3RyaW5nKG5vdy5nZXRNaW51dGVzKCkpLnBhZFN0YXJ0KDIsICcwJyl9YDsKICAgICAgICAgIHRoaXMucmVxdWVzdC5wb3N0KCIvdHVpdGlvbkludm9pY2UiLCB0aGlzLmZvcm0pLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgaWYgKHJlcy5jb2RlID09PSAnMjAwJykgewogICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5ub3RpZnkgPT09IDApIHsKICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB7CiAgICAgICAgICAgICAgICAgIHVpZDogcmVzLmRhdGEudWlkLAogICAgICAgICAgICAgICAgICBjb250ZW50OiAiWW91ciB0dWl0aW9uIGJpbGwgaGFzIGJlZW4gcmVsZWFzZWQsIHBsZWFzZSBwYXkgaXQgaW4gdGltZSEiCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgdGhpcy5yZXF1ZXN0LnBvc3QoIi9ub3RpZnkiLCBkYXRhKS50aGVuKCgpID0+IHsKICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkKCk7CiAgICAgICAgICAgICAgICAgIHRoaXMuZGlhbG9nRm9ybVZpc2libGUgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCdCaWxsIGNyZWF0ZWQgYW5kIG5vdGlmaWNhdGlvbiBzZW50Jyk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdGhpcy5sb2FkKCk7CiAgICAgICAgICAgICAgICB0aGlzLmRpYWxvZ0Zvcm1WaXNpYmxlID0gZmFsc2U7CiAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ0JpbGwgY3JlYXRlZCBzdWNjZXNzZnVsbHknKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigiT3BlcmF0aW9uIGZhaWxlZCIpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8vIFByZXBhcmUgdG8gZWRpdCBhIHNlbGVjdGVkIHR1aXRpb24gaW52b2ljZQogICAgaGFuZGxlRWRpdChyb3cpIHsKICAgICAgdGhpcy5mb3JtID0gewogICAgICAgIC4uLnJvdwogICAgICB9OwogICAgICB0aGlzLmRpYWxvZ0Zvcm1WaXNpYmxlID0gdHJ1ZTsKICAgIH0sCiAgICAvLyBEZWxldGUgYSBzcGVjaWZpYyB0dWl0aW9uIGludm9pY2UgYnkgSUQKICAgIGRlbChpZCkgewogICAgICB0aGlzLnJlcXVlc3QuZGVsZXRlKCIvdHVpdGlvbkludm9pY2UvZGVsLyIgKyBpZCkudGhlbihyZXMgPT4gewogICAgICAgIGlmIChyZXMpIHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2VzcygiU3VjY2Vzc2Z1bGx5IGRlbGV0ZWQiKTsKICAgICAgICAgIHRoaXMubG9hZCgpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCJEZWxldGUgZmFpbGVkIik7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvLyBIYW5kbGUgY2hhbmdlcyBpbiB0YWJsZSByb3cgc2VsZWN0aW9uCiAgICBoYW5kbGVTZWxlY3Rpb25DaGFuZ2UodmFsKSB7CiAgICAgIHRoaXMubXVsdGlwbGVTZWxlY3Rpb24gPSB2YWw7CiAgICB9LAogICAgLy8gUmVzZXQgc2VhcmNoIGlucHV0IGFuZCByZWxvYWQgdGFibGUgZGF0YQogICAgcmVzZXQoKSB7CiAgICAgIHRoaXMuc3R1ZGVudE5hbWUgPSAiIjsKICAgICAgdGhpcy5sb2FkKCk7CiAgICB9LAogICAgLy8gSGFuZGxlIGNoYW5nZXMgaW4gcGFnZSBzaXplCiAgICBoYW5kbGVTaXplQ2hhbmdlKHBhZ2VTaXplKSB7CiAgICAgIHRoaXMucGFnZVNpemUgPSBwYWdlU2l6ZTsKICAgICAgdGhpcy5sb2FkKCk7CiAgICB9LAogICAgLy8gSGFuZGxlIGNoYW5nZXMgaW4gdGhlIGN1cnJlbnQgcGFnZSBudW1iZXIKICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2UocGFnZU51bSkgewogICAgICB0aGlzLnBhZ2VOdW0gPSBwYWdlTnVtOwogICAgICB0aGlzLmxvYWQoKTsKICAgIH0sCiAgICAvLyBEZWxldGUgc2VsZWN0ZWQgcm93cyBpbiBiYXRjaAogICAgZGVsZXRlTW9yZSgpIHsKICAgICAgaWYgKHRoaXMubXVsdGlwbGVTZWxlY3Rpb24ubGVuZ3RoID09PSAwKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS53YXJuaW5nKCJQbGVhc2Ugc2VsZWN0IGl0ZW1zIHRvIGRlbGV0ZSIpOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBjb25zdCBpZHMgPSB0aGlzLm11bHRpcGxlU2VsZWN0aW9uLm1hcCh2ID0+IHYuaWQpOwogICAgICB0aGlzLnJlcXVlc3QucG9zdCgiL3R1aXRpb25JbnZvaWNlL2RlbC9iYXRjaCIsIGlkcykudGhlbihyZXMgPT4gewogICAgICAgIGlmIChyZXMuZGF0YSkgewogICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCJCYXRjaCBkZWxldGlvbiBzdWNjZXNzZnVsIik7CiAgICAgICAgICB0aGlzLmxvYWQoKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigiQmF0Y2ggZGVsZXRpb24gZmFpbGVkIik7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvLyBSZXNldCBmb3JtIGFuZCBjbGVhciBkaWFsb2cgZmllbGRzIHdoZW4gZGlhbG9nIGlzIGNsb3NlZAogICAgbGlzdGVuRGlhbG9nQ2xvc2UoKSB7CiAgICAgIHRoaXMuJHJlZnMuZWRpdEZvcm0gJiYgdGhpcy4kcmVmcy5lZGl0Rm9ybS5yZXNldEZpZWxkcygpOwogICAgICB0aGlzLmZvcm0gPSB7fTsKICAgIH0sCiAgICAvLyBGZXRjaCB0aGUgbGlzdCBvZiBzdHVkZW50cyBmb3Igc2VsZWN0aW9uCiAgICBnZXROYW1lKCkgewogICAgICB0aGlzLnJlcXVlc3QuZ2V0KCIvc3R1ZGVudC9saXN0IikudGhlbihyZXMgPT4gewogICAgICAgIHRoaXMuaW5mb0xpc3QgPSByZXMuZGF0YTsKICAgICAgICB0aGlzLm5hbWVMaXN0ID0gcmVzLmRhdGEubWFwKGl0ZW0gPT4gaXRlbS5uYW1lKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8gSGFuZGxlIHN0dWRlbnQgc2VsZWN0aW9uIGNoYW5nZSBhbmQgYXV0by1maWxsIHJlbGF0ZWQgZmllbGRzCiAgICBzZWxlY3RDaGFuZ2UoaW5kZXgpIHsKICAgICAgY29uc3Qgc2VsZWN0ZWRTdHVkZW50ID0gdGhpcy5pbmZvTGlzdFtpbmRleF07CiAgICAgIHRoaXMuc3R1ZGVudElkID0gc2VsZWN0ZWRTdHVkZW50LmlkOwogICAgICB0aGlzLmZvcm0uc3R1ZGVudEVtYWlsID0gc2VsZWN0ZWRTdHVkZW50LmVtYWlsOwogICAgICB0aGlzLmZvcm0ubWFqb3IgPSBzZWxlY3RlZFN0dWRlbnQucHJvZmVzc2lvbmFsOwogICAgICB0aGlzLmZvcm0uc3R1ZGVudE5hbWUgPSBzZWxlY3RlZFN0dWRlbnQubmFtZTsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICAvLyBXYXRjaCBjaGFuZ2VzIGluIGZvcm0gZmllbGRzIGFuZCB1cGRhdGUgdGhlIHRvdGFsIGZlZQogICAgZm9ybTogewogICAgICBoYW5kbGVyKG5ld1ZhbCkgewogICAgICAgIGNvbnN0IHRvdGFsID0gWyd0dWl0aW9uRmVlJywgJ2FjY29tbW9kYXRpb25GZWUnLCAnYm9va0ZlZScsICdtYXRlcmlhbEZlZScsICdhY3Rpdml0eUZlZScsICdleGFtRmVlJ10ucmVkdWNlKChzdW0sIGZlZSkgPT4gc3VtICsgKE51bWJlcihuZXdWYWxbZmVlXSkgfHwgMCksIDApOwogICAgICAgIHRoaXMuZm9ybS50b3RhbEZlZSA9IE51bWJlcih0b3RhbC50b0ZpeGVkKDIpKTsKICAgICAgfSwKICAgICAgZGVlcDogdHJ1ZQogICAgfQogIH0KfTs="},{"version":3,"mappings":";;AAsPA;EACAA;EACAC;IACA;IACA;MACA;MACA;IACA;IAEA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;QACAC;QAAA;QACAC;MACA;;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;QAAA;QACAT,cACA;UAAAU;UAAAC;UAAAC;QAAA,EACA;QACAC,eACA;UAAAH;UAAAC;UAAAC;QAAA,GACA;UAAAE;UAAAF;QAAA,EACA;QACAG,aACA;UAAAL;UAAAC;UAAAC;QAAA,GACA;UAAAE;UAAAF;QAAA;MAEA;IACA;EACA;EACAI;IACA;IACA;EACA;EACAC;IACA;IACAC;MACA;MACA;QACAC;MACA;QACAA;MACA;IACA;IACA;IACAC;MACA;QACAD;MACA;QACAA;MACA;IACA;IACA;IACAE;MACA;QACAC;UACAxB;UACAC;UACAL;QACA;MACA;QACA;QACA;MACA;IACA;IACA;IACA6B;MACA;QACA;UACA;UACA;UACA;UAEA;YACA;cACA;gBACA;kBACAC;kBACAC;gBACA;gBACA;kBACA;kBACA;kBACA;gBACA;cACA;gBACA;gBACA;gBACA;cACA;YACA;cACA;YACA;UACA;QACA;MACA;IACA;IACA;IACAC;MACA;QAAA;MAAA;MACA;IACA;IACA;IACAC;MACA;QACA;UACA;UACA;QACA;UACA;QACA;MACA;IACA;IACA;IACAC;MACA;IACA;IACA;IACAC;MACA;MACA;IACA;IACA;IACAC;MACA;MACA;IACA;IACA;IACAC;MACA;MACA;IACA;IACA;IACAC;MACA;QACA;QACA;MACA;MACA;MACA;QACA;UACA;UACA;QACA;UACA;QACA;MACA;IACA;IACA;IACAC;MACA;MACA;IACA;IACA;IACAC;MACA;QACA;QACA;MACA;IACA;IACA;IACAC;MACA;MACA;MACA;MACA;MACA;IACA;EACA;EACAC;IACA;IACAlC;MACAmC;QACA,qGACAC;QACA;MACA;MACAC;IACA;EACA;AACA","names":["name","data","tableData","total","pageNum","pageSize","studentName","studentId","form","email","major","multipleSelection","nameList","infoList","dialogFormVisible","rules","required","message","trigger","academicYear","validator","tuitionFee","created","methods","validateAcademicYear","callback","validateTuitionFee","load","params","save","uid","content","handleEdit","del","handleSelectionChange","reset","handleSizeChange","handleCurrentChange","deleteMore","listenDialogClose","getName","selectChange","watch","handler","reduce","deep"],"sourceRoot":"src/views","sources":["TuitionInvoice.vue"],"sourcesContent":["<template>\n  <div class=\"tuition-container\">\n    <!-- Search and Action Area -->\n    <div class=\"header-actions\">\n      <div class=\"search-bar\">\n        <!-- Input for searching student by name -->\n        <el-input\n            v-model=\"studentName\"\n            placeholder=\"Please enter student name\"\n            prefix-icon=\"el-icon-search\"\n            clearable\n            class=\"search-input\"\n        ></el-input>\n        <el-button type=\"primary\" @click=\"load\">Search</el-button>\n        <el-button type=\"warning\" @click=\"reset\">Reset</el-button>\n      </div>\n\n      <div class=\"operation-buttons\">\n        <!-- Button to add a new tuition bill -->\n        <el-button\n            type=\"primary\"\n            icon=\"el-icon-plus\"\n            @click=\"dialogFormVisible = true\"\n        >\n          New Tuition Bill\n        </el-button>\n\n        <!-- Button for batch deletion -->\n        <el-popconfirm\n            title=\"Are you sure to delete these items?\"\n            confirm-button-text=\"Confirm\"\n            cancel-button-text=\"Cancel\"\n            icon=\"el-icon-warning\"\n            icon-color=\"#ff4949\"\n            @confirm=\"deleteMore\"\n        >\n          <el-button\n              slot=\"reference\"\n              type=\"danger\"\n              icon=\"el-icon-delete\"\n              :disabled=\"!multipleSelection.length\"\n          >\n            Batch Delete\n          </el-button>\n        </el-popconfirm>\n      </div>\n    </div>\n\n    <!-- Tuition Table -->\n    <el-table\n        :data=\"tableData\"\n        border\n        stripe\n        class=\"tuition-table\"\n        @selection-change=\"handleSelectionChange\"\n    >\n      <el-table-column type=\"selection\" width=\"55\"></el-table-column>\n      <el-table-column prop=\"id\" label=\"ID\" width=\"80\"></el-table-column>\n      <el-table-column prop=\"studentName\" label=\"Student Name\"></el-table-column>\n      <el-table-column prop=\"studentEmail\" label=\"Email\"></el-table-column>\n      <el-table-column prop=\"major\" label=\"Major\"></el-table-column>\n      <el-table-column prop=\"academicYear\" label=\"Academic Year\"></el-table-column>\n      <el-table-column prop=\"totalFee\" label=\"Total Fee\">\n        <template slot-scope=\"scope\">\n          $ {{ scope.row.totalFee }}\n        </template>\n      </el-table-column>\n      <el-table-column label=\"Operations\" width=\"220\" align=\"center\">\n        <template slot-scope=\"scope\">\n          <!-- Edit Button -->\n          <el-button\n              type=\"primary\"\n              size=\"mini\"\n              icon=\"el-icon-edit\"\n              @click=\"handleEdit(scope.row)\"\n          >\n            Edit\n          </el-button>\n          <!-- Delete Button -->\n          <el-popconfirm\n              title=\"Are you sure to delete this item?\"\n              confirm-button-text=\"Confirm\"\n              cancel-button-text=\"Cancel\"\n              icon=\"el-icon-warning\"\n              icon-color=\"#ff4949\"\n              @confirm=\"del(scope.row.id)\"\n          >\n            <el-button\n                slot=\"reference\"\n                type=\"danger\"\n                size=\"mini\"\n                icon=\"el-icon-delete\"\n            >\n              Delete\n            </el-button>\n          </el-popconfirm>\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <!-- Pagination -->\n    <el-pagination\n        class=\"pagination\"\n        background\n        @size-change=\"handleSizeChange\"\n        @current-change=\"handleCurrentChange\"\n        :current-page=\"pageNum\"\n        :page-sizes=\"[10, 15, 20, 50, 100]\"\n        :page-size=\"pageSize\"\n        layout=\"total, sizes, prev, pager, next, jumper\"\n        :total=\"total\"\n    ></el-pagination>\n\n    <!-- Dialog Form for Tuition Bill -->\n    <el-dialog\n        :title=\"form.id ? 'Edit Tuition Bill' : 'New Tuition Bill'\"\n        :visible.sync=\"dialogFormVisible\"\n        width=\"600px\"\n        @close=\"listenDialogClose\"\n    >\n      <el-form\n          ref=\"editForm\"\n          :model=\"form\"\n          label-width=\"150px\"\n          :rules=\"rules\"\n      >\n        <!-- Select Student -->\n        <el-form-item label=\"Student\" prop=\"studentName\">\n          <el-select\n              v-model=\"form.studentName\"\n              placeholder=\"Select student\"\n              style=\"width: 100%\"\n              @focus=\"getName\"\n              @change=\"selectChange\"\n          >\n            <el-option\n                v-for=\"(item, index) in nameList\"\n                :key=\"index\"\n                :label=\"item\"\n                :value=\"index\"\n            ></el-option>\n          </el-select>\n        </el-form-item>\n\n        <!-- Display Email -->\n        <el-form-item label=\"Email\">\n          <el-input v-model=\"form.studentEmail\" disabled></el-input>\n        </el-form-item>\n\n        <!-- Display Major -->\n        <el-form-item label=\"Major\">\n          <el-input v-model=\"form.major\" disabled></el-input>\n        </el-form-item>\n\n        <!-- Academic Year -->\n        <el-form-item label=\"Academic Year\" prop=\"academicYear\">\n          <el-input v-model=\"form.academicYear\"></el-input>\n        </el-form-item>\n\n        <!-- Fee Details -->\n        <div class=\"fees-section\">\n          <h3>Fee Details</h3>\n          <el-form-item label=\"Tuition Fee\" prop=\"tuitionFee\">\n            <el-input-number\n                v-model=\"form.tuitionFee\"\n                :min=\"0\"\n                :precision=\"2\"\n                :controls=\"false\"\n                style=\"width: 100%\"\n            ></el-input-number>\n          </el-form-item>\n\n          <el-form-item label=\"Accommodation Fee\" prop=\"accommodationFee\">\n            <el-input-number\n                v-model=\"form.accommodationFee\"\n                :min=\"0\"\n                :precision=\"2\"\n                :controls=\"false\"\n                style=\"width: 100%\"\n            ></el-input-number>\n          </el-form-item>\n\n          <el-form-item label=\"Book Fee\" prop=\"bookFee\">\n            <el-input-number\n                v-model=\"form.bookFee\"\n                :min=\"0\"\n                :precision=\"2\"\n                :controls=\"false\"\n                style=\"width: 100%\"\n            ></el-input-number>\n          </el-form-item>\n\n          <el-form-item label=\"Material Fee\" prop=\"materialFee\">\n            <el-input-number\n                v-model=\"form.materialFee\"\n                :min=\"0\"\n                :precision=\"2\"\n                :controls=\"false\"\n                style=\"width: 100%\"\n            ></el-input-number>\n          </el-form-item>\n\n          <el-form-item label=\"Activity Fee\" prop=\"activityFee\">\n            <el-input-number\n                v-model=\"form.activityFee\"\n                :min=\"0\"\n                :precision=\"2\"\n                :controls=\"false\"\n                style=\"width: 100%\"\n            ></el-input-number>\n          </el-form-item>\n\n          <el-form-item label=\"Exam Fee\" prop=\"examFee\">\n            <el-input-number\n                v-model=\"form.examFee\"\n                :min=\"0\"\n                :precision=\"2\"\n                :controls=\"false\"\n                style=\"width: 100%\"\n            ></el-input-number>\n          </el-form-item>\n\n          <el-form-item label=\"*Total Fee\" prop=\"totalFee\">\n            <el-input-number\n                v-model=\"form.totalFee\"\n                :min=\"0\"\n                :precision=\"2\"\n                :controls=\"false\"\n                style=\"width: 100%\"\n                disabled\n            ></el-input-number>\n          </el-form-item>\n        </div>\n      </el-form>\n\n      <!-- Dialog Footer -->\n      <div slot=\"footer\">\n        <el-button @click=\"dialogFormVisible = false\">Cancel</el-button>\n        <el-button type=\"primary\" @click=\"save\">Confirm</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n\n<script>\nexport default {\n  name: \"TuitionInvoice\",\n  data() {\n    // Function to calculate the total fee\n    const calculateTotal = (item) => {\n      const fees = ['tuitionFee', 'accommodationFee', 'bookFee', 'materialFee', 'activityFee', 'examFee'];\n      return fees.reduce((total, fee) => total + (Number(item[fee]) || 0), 0);\n    };\n\n    return {\n      tableData: [], // Table data\n      total: 0, // Total number of items\n      pageNum: 1, // Current page number\n      pageSize: 15, // Number of items per page\n      studentName: \"\", // Search input for student name\n      studentId: \"\", // Selected student ID\n      form: {\n        email: '', // Student email\n        major: '', // Student major\n      },\n      multipleSelection: [], // Selected rows in the table\n      nameList: [], // List of student names for selection\n      infoList: [], // Full student info list\n      dialogFormVisible: false, // Dialog visibility state\n      rules: { // Validation rules for the form\n        studentName: [\n          { required: true, message: 'Please select a student', trigger: 'change' }\n        ],\n        academicYear: [\n          { required: true, message: 'Please enter academic year', trigger: 'blur' },\n          { validator: this.validateAcademicYear, trigger: 'blur' }\n        ],\n        tuitionFee: [\n          { required: true, message: 'Please enter Tuition Fee', trigger: 'blur' },\n          { validator: this.validateTuitionFee, trigger: 'blur' }\n        ]\n      }\n    };\n  },\n  created() {\n    // Load table data when the component is created\n    this.load();\n  },\n  methods: {\n    // Validate academic year input\n    validateAcademicYear(rule, value, callback) {\n      const year = Number(value);\n      if (!/^\\d+$/.test(value) || year < 2024) {\n        callback(new Error('Please enter a valid year (≥ 2024)'));\n      } else {\n        callback();\n      }\n    },\n    // Validate tuition fee input\n    validateTuitionFee(rule, value, callback) {\n      if (value < 1) {\n        callback(new Error('Tuition Fee must be at least 1'));\n      } else {\n        callback();\n      }\n    },\n    // Load table data based on pagination and search input\n    load() {\n      this.request.get(\"/tuitionInvoice/page\", {\n        params: {\n          pageNum: this.pageNum,\n          pageSize: this.pageSize,\n          name: this.studentName\n        }\n      }).then(res => {\n        this.tableData = res.data.records;\n        this.total = res.data.total;\n      });\n    },\n    // Save form data and create or edit a tuition invoice\n    save() {\n      this.$refs.editForm.validate((valid) => {\n        if (valid) {\n          this.form.status = 0; // Default status for unpaid\n          const now = new Date();\n          this.form.createdTime = `${now.getFullYear()}-${String(now.getMonth() + 1).padStart(2, '0')}-${String(now.getDate()).padStart(2, '0')} ${String(now.getHours()).padStart(2, '0')}:${String(now.getMinutes()).padStart(2, '0')}`;\n\n          this.request.post(\"/tuitionInvoice\", this.form).then(res => {\n            if (res.code === '200') {\n              if (res.data.notify === 0) {\n                const data = {\n                  uid: res.data.uid,\n                  content: \"Your tuition bill has been released, please pay it in time!\"\n                };\n                this.request.post(\"/notify\", data).then(() => {\n                  this.load();\n                  this.dialogFormVisible = false;\n                  this.$message.success('Bill created and notification sent');\n                });\n              } else {\n                this.load();\n                this.dialogFormVisible = false;\n                this.$message.success('Bill created successfully');\n              }\n            } else {\n              this.$message.error(\"Operation failed\");\n            }\n          });\n        }\n      });\n    },\n    // Prepare to edit a selected tuition invoice\n    handleEdit(row) {\n      this.form = { ...row };\n      this.dialogFormVisible = true;\n    },\n    // Delete a specific tuition invoice by ID\n    del(id) {\n      this.request.delete(\"/tuitionInvoice/del/\" + id).then(res => {\n        if (res) {\n          this.$message.success(\"Successfully deleted\");\n          this.load();\n        } else {\n          this.$message.error(\"Delete failed\");\n        }\n      });\n    },\n    // Handle changes in table row selection\n    handleSelectionChange(val) {\n      this.multipleSelection = val;\n    },\n    // Reset search input and reload table data\n    reset() {\n      this.studentName = \"\";\n      this.load();\n    },\n    // Handle changes in page size\n    handleSizeChange(pageSize) {\n      this.pageSize = pageSize;\n      this.load();\n    },\n    // Handle changes in the current page number\n    handleCurrentChange(pageNum) {\n      this.pageNum = pageNum;\n      this.load();\n    },\n    // Delete selected rows in batch\n    deleteMore() {\n      if (this.multipleSelection.length === 0) {\n        this.$message.warning(\"Please select items to delete\");\n        return;\n      }\n      const ids = this.multipleSelection.map(v => v.id);\n      this.request.post(\"/tuitionInvoice/del/batch\", ids).then(res => {\n        if (res.data) {\n          this.$message.success(\"Batch deletion successful\");\n          this.load();\n        } else {\n          this.$message.error(\"Batch deletion failed\");\n        }\n      });\n    },\n    // Reset form and clear dialog fields when dialog is closed\n    listenDialogClose() {\n      this.$refs.editForm && this.$refs.editForm.resetFields();\n      this.form = {};\n    },\n    // Fetch the list of students for selection\n    getName() {\n      this.request.get(\"/student/list\").then(res => {\n        this.infoList = res.data;\n        this.nameList = res.data.map(item => item.name);\n      });\n    },\n    // Handle student selection change and auto-fill related fields\n    selectChange(index) {\n      const selectedStudent = this.infoList[index];\n      this.studentId = selectedStudent.id;\n      this.form.studentEmail = selectedStudent.email;\n      this.form.major = selectedStudent.professional;\n      this.form.studentName = selectedStudent.name;\n    }\n  },\n  watch: {\n    // Watch changes in form fields and update the total fee\n    form: {\n      handler(newVal) {\n        const total = ['tuitionFee', 'accommodationFee', 'bookFee', 'materialFee', 'activityFee', 'examFee']\n            .reduce((sum, fee) => sum + (Number(newVal[fee]) || 0), 0);\n        this.form.totalFee = Number(total.toFixed(2));\n      },\n      deep: true\n    }\n  }\n};\n</script>\n\n<style scoped>\n/* Tuition invoice page styling */\n.tuition-container {\n  padding: 20px;\n}\n\n/* Header actions styling */\n.header-actions {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20px;\n}\n\n.search-bar {\n  display: flex;\n  align-items: center;\n  gap: 10px;\n}\n\n.search-input {\n  width: 300px;\n}\n\n.operation-buttons {\n  display: flex;\n  gap: 10px;\n}\n\n.tuition-table {\n  margin-bottom: 20px;\n}\n\n.pagination {\n  display: flex;\n  justify-content: center;\n  margin-top: 20px;\n}\n\n.fees-section {\n  margin-top: 20px;\n  padding-top: 20px;\n  border-top: 1px solid #eee;\n}\n\n.fees-section h3 {\n  margin-bottom: 20px;\n  color: #606266;\n}\n\n.headerBg {\n  background-color: #f5f7fa !important;\n}\n\n.el-input-number {\n  width: 100%;\n}\n\n.el-button {\n  transition: all 0.3s;\n}\n\n.el-button:hover {\n  transform: translateY(-1px);\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n}\n</style>\n"]}]}